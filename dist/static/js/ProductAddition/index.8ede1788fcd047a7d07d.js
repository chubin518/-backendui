!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="//file.40017.cn/glproductweb/glproductweb/stage/",n(n.s="nA6T")}({"+E39":function(e,t,n){e.exports=!n("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+ZMJ":function(e,t,n){var r=n("lOnJ");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},"+tPU":function(e,t,n){n("xGkn");for(var r=n("7KvD"),o=n("hJx8"),i=n("/bQp"),a=n("dSzd")("toStringTag"),c="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<c.length;s++){var l=c[s],u=r[l],f=u&&u.prototype;f&&!f[a]&&o(f,a,l),i[l]=i.Array}},"//Fk":function(e,t,n){e.exports={default:n("U5ju"),__esModule:!0}},"/bQp":function(e,t){e.exports={}},"1kS7":function(e,t){t.f=Object.getOwnPropertySymbols},"2KxR":function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},"3Eo+":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},"3fs2":function(e,t,n){var r=n("RY/4"),o=n("dSzd")("iterator"),i=n("/bQp");e.exports=n("FeBl").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},"4mcu":function(e,t){e.exports=function(){}},"52gC":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"5zde":function(e,t,n){n("zQR9"),n("qyJz"),e.exports=n("FeBl").Array.from},"6JHo":function(e,t,n){"use strict";var r=n("lWDY"),o={data:function(){return{datas:[],selected:this.value,selectdatas:[]}},props:{props:{type:[Object],default:function(){return{id:"id",name:"name"}}},defaultitems:{default:function(){return null},type:[Array]},value:{type:[String,Number,Array],default:function(){return""}},isinner:{type:Boolean,default:function(){return!0}},isonlydiji:{type:Boolean,default:function(){return!1}},multiple:{type:Boolean,default:function(){return!1}},clearable:{type:Boolean,default:function(){return!1}},disabled:{type:Boolean,default:function(){return!1}}},mounted:function(){if(!this.defaultitems){var e=this.selected;Array.isArray(this.selected)&&(e=this.selected.join(",")),e&&e.length>=1&&this.search(e,1)}},watch:{value:function(e,t){if(e!=t){var n=e;Array.isArray(e)&&(n=e.join(",")),n&&n.length>=1&&(this.search(n,1),this.selected=e)}},defaultitems:function(e,t){var n=this;if(e!=t&&e.length>=1){var r=[],o=n.multiple?[]:"";e&&e.forEach(function(e){n.multiple?o.push(e[n.props.id]):o=e[n.props.id],r.push({id:e[n.props.id],name:e[n.props.name]})}),n.datas=r,n.selected=o}}},methods:{search:function(e,t){var n=this;!e||e.length<=0||r.a.get("/travel/supergoproduct/Common/GetCity",{key:e,isinner:n.isinner,type:t,isonlydiji:n.isonlydiji}).then(function(e){n.datas=e||[]}).catch(function(e){n.$message({type:"error",message:e})})},onchange:function(e){var t=this;this.$emit("input",e);var n=t.datas.concat(t.selectdatas).filter(function(n){return!0===t.multiple?e.findIndex(function(e){return e==n.id})>=0:n&&n.id==e});t.selectdatas=n,t.$emit("change",e,n&&1==n.length?n[0]:n)},clear:function(){this.datas=this.defaultitems}}},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("glui-select",{attrs:{disabled:e.disabled,placeholder:"请输入城市名称",multiple:e.multiple,clearable:e.clearable,filterable:"",remote:"","remote-method":e.search},on:{change:e.onchange,clear:e.clear},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.datas,function(t){return n("glui-option",{key:t.id,attrs:{label:e.isinner?t.name:t.fullname?t.fullname:t.name,value:t.id}})}))};i._withStripped=!0;var a={render:i,staticRenderFns:[]},c=a;var s=n("VU/8")(o,c,!1,null,null,null);s.options.__file="src\\components\\dropdowncity.vue";t.a=s.exports},"77Pl":function(e,t,n){var r=n("EqjI");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"7KvD":function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"82Mu":function(e,t,n){var r=n("7KvD"),o=n("L42u").set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,c=r.Promise,s="process"==n("R9M2")(a);e.exports=function(){var e,t,n,l=function(){var r,o;for(s&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(l)};else if(!i||r.navigator&&r.navigator.standalone)if(c&&c.resolve){var u=c.resolve(void 0);n=function(){u.then(l)}}else n=function(){o.call(r,l)};else{var f=!0,p=document.createTextNode("");new i(l).observe(p,{characterData:!0}),n=function(){p.data=f=!f}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},"880/":function(e,t,n){e.exports=n("hJx8")},"94VQ":function(e,t,n){"use strict";var r=n("Yobk"),o=n("X8DO"),i=n("e6n0"),a={};n("hJx8")(a,n("dSzd")("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},"9bBU":function(e,t,n){n("mClu");var r=n("FeBl").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},C4MV:function(e,t,n){e.exports={default:n("9bBU"),__esModule:!0}},CXw9:function(e,t,n){"use strict";var r,o,i,a,c=n("O4g8"),s=n("7KvD"),l=n("+ZMJ"),u=n("RY/4"),f=n("kM2E"),p=n("EqjI"),d=n("lOnJ"),h=n("2KxR"),v=n("NWt+"),m=n("t8x9"),g=n("L42u").set,y=n("82Mu")(),b=n("qARP"),S=n("dNDb"),x=n("iUbK"),w=n("fJUb"),_=s.TypeError,I=s.process,R=I&&I.versions,P=R&&R.v8||"",j=s.Promise,O="process"==u(I),C=function(){},k=o=b.f,T=!!function(){try{var e=j.resolve(1),t=(e.constructor={})[n("dSzd")("species")]=function(e){e(C,C)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t&&0!==P.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(e){}}(),D=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},L=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,c=o?t.ok:t.fail,s=t.resolve,l=t.reject,u=t.domain;try{c?(o||(2==e._h&&M(e),e._h=1),!0===c?n=r:(u&&u.enter(),n=c(r),u&&(u.exit(),a=!0)),n===t.promise?l(_("Promise-chain cycle")):(i=D(n))?i.call(n,s,l):s(n)):l(r)}catch(e){u&&!a&&u.exit(),l(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&F(e)})}},F=function(e){g.call(s,function(){var t,n,r,o=e._v,i=N(e);if(i&&(t=S(function(){O?I.emit("unhandledRejection",o,e):(n=s.onunhandledrejection)?n({promise:e,reason:o}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=O||N(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},M=function(e){g.call(s,function(){var t;O?I.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},E=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},A=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw _("Promise can't be resolved itself");(t=D(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,l(A,r,1),l(E,r,1))}catch(e){E.call(r,e)}}):(n._v=e,n._s=1,L(n,!1))}catch(e){E.call({_w:n,_d:!1},e)}}};T||(j=function(e){h(this,j,"Promise","_h"),d(e),r.call(this);try{e(l(A,this,1),l(E,this,1))}catch(e){E.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n("xH/j")(j.prototype,{then:function(e,t){var n=k(m(this,j));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=O?I.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=l(A,e,1),this.reject=l(E,e,1)},b.f=k=function(e){return e===j||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!T,{Promise:j}),n("e6n0")(j,"Promise"),n("bRrM")("Promise"),a=n("FeBl").Promise,f(f.S+f.F*!T,"Promise",{reject:function(e){var t=k(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(c||!T),"Promise",{resolve:function(e){return w(c&&this===a?j:this,e)}}),f(f.S+f.F*!(T&&n("dY0y")(function(e){j.all(e).catch(C)})),"Promise",{all:function(e){var t=this,n=k(t),r=n.resolve,o=n.reject,i=S(function(){var n=[],i=0,a=1;v(e,!1,function(e){var c=i++,s=!1;n.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,n[c]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=k(t),r=n.reject,o=S(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},CwSZ:function(e,t,n){"use strict";var r=n("p8xL"),o=n("XgCd"),i={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Date.prototype.toISOString,c={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1},s=function e(t,n,o,i,a,s,l,u,f,p,d,h){var v=t;if("function"==typeof l)v=l(n,v);else if(v instanceof Date)v=p(v);else if(null===v){if(i)return s&&!h?s(n,c.encoder):n;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||r.isBuffer(v))return s?[d(h?n:s(n,c.encoder))+"="+d(s(v,c.encoder))]:[d(n)+"="+d(String(v))];var m,g=[];if(void 0===v)return g;if(Array.isArray(l))m=l;else{var y=Object.keys(v);m=u?y.sort(u):y}for(var b=0;b<m.length;++b){var S=m[b];a&&null===v[S]||(g=Array.isArray(v)?g.concat(e(v[S],o(n,S),o,i,a,s,l,u,f,p,d,h)):g.concat(e(v[S],n+(f?"."+S:"["+S+"]"),o,i,a,s,l,u,f,p,d,h)))}return g};e.exports=function(e,t){var n=e,a=t?r.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var l=void 0===a.delimiter?c.delimiter:a.delimiter,u="boolean"==typeof a.strictNullHandling?a.strictNullHandling:c.strictNullHandling,f="boolean"==typeof a.skipNulls?a.skipNulls:c.skipNulls,p="boolean"==typeof a.encode?a.encode:c.encode,d="function"==typeof a.encoder?a.encoder:c.encoder,h="function"==typeof a.sort?a.sort:null,v=void 0!==a.allowDots&&a.allowDots,m="function"==typeof a.serializeDate?a.serializeDate:c.serializeDate,g="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:c.encodeValuesOnly;if(void 0===a.format)a.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,a.format))throw new TypeError("Unknown format option provided.");var y,b,S=o.formatters[a.format];"function"==typeof a.filter?n=(b=a.filter)("",n):Array.isArray(a.filter)&&(y=b=a.filter);var x,w=[];if("object"!=typeof n||null===n)return"";x=a.arrayFormat in i?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var _=i[x];y||(y=Object.keys(n)),h&&y.sort(h);for(var I=0;I<y.length;++I){var R=y[I];f&&null===n[R]||(w=w.concat(s(n[R],R,_,u,f,p?d:null,b,h,v,m,S,g)))}var P=w.join(l),j=!0===a.addQueryPrefix?"?":"";return P.length>0?j+P:""}},D2L2:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},DDCP:function(e,t,n){"use strict";var r=n("p8xL"),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(r),c=a?r.slice(0,a.index):r,s=[];if(c){if(!n.plainObjects&&o.call(Object.prototype,c)&&!n.allowPrototypes)return;s.push(c)}for(var l=0;null!==(a=i.exec(r))&&l<n.depth;){if(l+=1,!n.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(a[1])}return a&&s.push("["+r.slice(a.index)+"]"),function(e,t,n){for(var r=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a)i=(i=[]).concat(r);else{i=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,s=parseInt(c,10);!isNaN(s)&&a!==c&&String(s)===c&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(i=[])[s]=r:i[c]=r}r=i}return r}(s,t,n)}};e.exports=function(e,t){var n=t?r.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:i.delimiter,n.depth="number"==typeof n.depth?n.depth:i.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:i.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:i.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:i.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:i.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:i.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:i.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:i.strictNullHandling,""===e||null===e||void 0===e)return n.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,c=r.split(t.delimiter,a),s=0;s<c.length;++s){var l,u,f=c[s],p=f.indexOf("]="),d=-1===p?f.indexOf("="):p+1;-1===d?(l=t.decoder(f,i.decoder),u=t.strictNullHandling?null:""):(l=t.decoder(f.slice(0,d),i.decoder),u=t.decoder(f.slice(d+1),i.decoder)),o.call(n,l)?n[l]=[].concat(n[l]).concat(u):n[l]=u}return n}(e,n):e,s=n.plainObjects?Object.create(null):{},l=Object.keys(c),u=0;u<l.length;++u){var f=l[u],p=a(f,c[f],n);s=r.merge(s,p,n)}return r.compact(s)}},EGZi:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},EqBC:function(e,t,n){"use strict";var r=n("kM2E"),o=n("FeBl"),i=n("7KvD"),a=n("t8x9"),c=n("fJUb");r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then(function(){return n})}:e,n?function(n){return c(t,e()).then(function(){throw n})}:e)}})},EqjI:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},FeBl:function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},Ibhu:function(e,t,n){var r=n("D2L2"),o=n("TcQ7"),i=n("vFc/")(!1),a=n("ax3d")("IE_PROTO");e.exports=function(e,t){var n,c=o(e),s=0,l=[];for(n in c)n!=a&&r(c,n)&&l.push(n);for(;t.length>s;)r(c,n=t[s++])&&(~i(l,n)||l.push(n));return l}},L42u:function(e,t,n){var r,o,i,a=n("+ZMJ"),c=n("knuC"),s=n("RPLV"),l=n("ON07"),u=n("7KvD"),f=u.process,p=u.setImmediate,d=u.clearImmediate,h=u.MessageChannel,v=u.Dispatch,m=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};p&&d||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){c("function"==typeof e?e:Function(e),t)},r(m),m},d=function(e){delete g[e]},"process"==n("R9M2")(f)?r=function(e){f.nextTick(a(y,e,1))}:v&&v.now?r=function(e){v.now(a(y,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){s.appendChild(l("script")).onreadystatechange=function(){s.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:p,clear:d}},M6a0:function(e,t){},MU5D:function(e,t,n){var r=n("R9M2");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},Mhyx:function(e,t,n){var r=n("/bQp"),o=n("dSzd")("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},MmMw:function(e,t,n){var r=n("EqjI");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"NWt+":function(e,t,n){var r=n("+ZMJ"),o=n("msXi"),i=n("Mhyx"),a=n("77Pl"),c=n("QRG4"),s=n("3fs2"),l={},u={};(t=e.exports=function(e,t,n,f,p){var d,h,v,m,g=p?function(){return e}:s(e),y=r(n,f,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(d=c(e.length);d>b;b++)if((m=t?y(a(h=e[b])[0],h[1]):y(e[b]))===l||m===u)return m}else for(v=g.call(e);!(h=v.next()).done;)if((m=o(v,y,h.value,t))===l||m===u)return m}).BREAK=l,t.RETURN=u},NpIQ:function(e,t){t.f={}.propertyIsEnumerable},O4g8:function(e,t){e.exports=!0},OMN4:function(e,t){e.exports=axios},ON07:function(e,t,n){var r=n("EqjI"),o=n("7KvD").document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},PzxK:function(e,t,n){var r=n("D2L2"),o=n("sB3e"),i=n("ax3d")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},QRG4:function(e,t,n){var r=n("UuGF"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},R4wc:function(e,t,n){var r=n("kM2E");r(r.S+r.F,"Object",{assign:n("To3L")})},R9M2:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},RPLV:function(e,t,n){var r=n("7KvD").document;e.exports=r&&r.documentElement},"RY/4":function(e,t,n){var r=n("R9M2"),o=n("dSzd")("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},S82l:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},SfB7:function(e,t,n){e.exports=!n("+E39")&&!n("S82l")(function(){return 7!=Object.defineProperty(n("ON07")("div"),"a",{get:function(){return 7}}).a})},TcQ7:function(e,t,n){var r=n("MU5D"),o=n("52gC");e.exports=function(e){return r(o(e))}},To3L:function(e,t,n){"use strict";var r=n("lktj"),o=n("1kS7"),i=n("NpIQ"),a=n("sB3e"),c=n("MU5D"),s=Object.assign;e.exports=!s||n("S82l")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r})?function(e,t){for(var n=a(e),s=arguments.length,l=1,u=o.f,f=i.f;s>l;)for(var p,d=c(arguments[l++]),h=u?r(d).concat(u(d)):r(d),v=h.length,m=0;v>m;)f.call(d,p=h[m++])&&(n[p]=d[p]);return n}:s},U5ju:function(e,t,n){n("M6a0"),n("zQR9"),n("+tPU"),n("CXw9"),n("EqBC"),n("jKW+"),e.exports=n("FeBl").Promise},UuGF:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},V3tA:function(e,t,n){n("R4wc"),e.exports=n("FeBl").Object.assign},"VU/8":function(e,t){e.exports=function(e,t,n,r,o,i){var a,c=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(a=e,c=e.default);var l,u="function"==typeof c?c.options:c;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId=o),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=l):r&&(l=r),l){var f=u.functional,p=f?u.render:u.beforeCreate;f?(u._injectStyles=l,u.render=function(e,t){return l.call(t),p(e,t)}):u.beforeCreate=p?[].concat(p,l):[l]}return{esModule:a,exports:c,options:u}}},X8DO:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},XgCd:function(e,t,n){"use strict";var r=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},Yobk:function(e,t,n){var r=n("77Pl"),o=n("qio6"),i=n("xnc9"),a=n("ax3d")("IE_PROTO"),c=function(){},s=function(){var e,t=n("ON07")("iframe"),r=i.length;for(t.style.display="none",n("RPLV").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[i[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=r(e),n=new c,c.prototype=null,n[a]=e):n=s(),void 0===t?n:o(n,t)}},Zz1P:function(e,t){e.exports=moment},ax3d:function(e,t,n){var r=n("e8AB")("keys"),o=n("3Eo+");e.exports=function(e){return r[e]||(r[e]=o(e))}},bOdI:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n("C4MV"),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},bRrM:function(e,t,n){"use strict";var r=n("7KvD"),o=n("FeBl"),i=n("evD5"),a=n("+E39"),c=n("dSzd")("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];a&&t&&!t[c]&&i.f(t,c,{configurable:!0,get:function(){return this}})}},"c/Tr":function(e,t,n){e.exports={default:n("5zde"),__esModule:!0}},dNDb:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},dSzd:function(e,t,n){var r=n("e8AB")("wks"),o=n("3Eo+"),i=n("7KvD").Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},dY0y:function(e,t,n){var r=n("dSzd")("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},e6n0:function(e,t,n){var r=n("evD5").f,o=n("D2L2"),i=n("dSzd")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},e8AB:function(e,t,n){var r=n("FeBl"),o=n("7KvD"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("O4g8")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},evD5:function(e,t,n){var r=n("77Pl"),o=n("SfB7"),i=n("MmMw"),a=Object.defineProperty;t.f=n("+E39")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},fBQ2:function(e,t,n){"use strict";var r=n("evD5"),o=n("X8DO");e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},fJUb:function(e,t,n){var r=n("77Pl"),o=n("EqjI"),i=n("qARP");e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},fkB2:function(e,t,n){var r=n("UuGF"),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},h65t:function(e,t,n){var r=n("UuGF"),o=n("52gC");e.exports=function(e){return function(t,n){var i,a,c=String(o(t)),s=r(n),l=c.length;return s<0||s>=l?e?"":void 0:(i=c.charCodeAt(s))<55296||i>56319||s+1===l||(a=c.charCodeAt(s+1))<56320||a>57343?e?c.charAt(s):i:e?c.slice(s,s+2):a-56320+(i-55296<<10)+65536}}},hJx8:function(e,t,n){var r=n("evD5"),o=n("X8DO");e.exports=n("+E39")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},iUbK:function(e,t,n){var r=n("7KvD").navigator;e.exports=r&&r.userAgent||""},"jKW+":function(e,t,n){"use strict";var r=n("kM2E"),o=n("qARP"),i=n("dNDb");r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},kM2E:function(e,t,n){var r=n("7KvD"),o=n("FeBl"),i=n("+ZMJ"),a=n("hJx8"),c=n("D2L2"),s=function(e,t,n){var l,u,f,p=e&s.F,d=e&s.G,h=e&s.S,v=e&s.P,m=e&s.B,g=e&s.W,y=d?o:o[t]||(o[t]={}),b=y.prototype,S=d?r:h?r[t]:(r[t]||{}).prototype;for(l in d&&(n=t),n)(u=!p&&S&&void 0!==S[l])&&c(y,l)||(f=u?S[l]:n[l],y[l]=d&&"function"!=typeof S[l]?n[l]:m&&u?i(f,r):g&&S[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):v&&"function"==typeof f?i(Function.call,f):f,v&&((y.virtual||(y.virtual={}))[l]=f,e&s.R&&b&&!b[l]&&a(b,l,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},knuC:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},lOnJ:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},lRwf:function(e,t){e.exports=Vue},lWDY:function(e,t,n){"use strict";var r=n("//Fk"),o=n.n(r),i=n("OMN4"),a=n.n(i),c=n("lRwf"),s=n.n(c),l=n("Zz1P"),u=n.n(l),f=n("mw3O"),p=n.n(f);a.a.defaults.timeout=3e4,a.a.defaults.headers["X-Requested-With"]=XMLHttpRequest,a.a.defaults.withCredentials=!0,s.a.prototype.$moment=u.a;var d=[],h=a.a.CancelToken;function v(e){for(var t in d)d[t].key===m(e)&&(d[t].cancel("repeating"),d.splice(t,1),console.log("取消重复的http请求"))}function m(e){var t=void 0;return t="post"===e.method?e.data:p.a.stringify(e.params),e.url+e.method+t}a.a.interceptors.request.use(function(e){return v(e),e.cancelToken=new h(function(t){d.push({key:m(e),cancel:t})}),e},function(e){return o.a.reject(e)}),a.a.interceptors.response.use(function(e){return v(e.config),e},function(e){return e&&"repeating"===e.message?{}:o.a.reject(e)});t.a={get:function(e,t){return new o.a(function(n,r){a()({method:"get",url:e,params:t}).then(function(e){n(e.data)}).catch(r)})},post:function(e,t){return new o.a(function(n,r){a()({method:"post",url:e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:p.a.stringify(t)}).then(function(e){n(e.data)}).catch(r)})},postjson:function(e,t){return new o.a(function(n,r){a()({method:"post",url:e,headers:{"Content-Type":"application/json; charset=utf-8"},data:t}).then(function(e){n(e.data)}).catch(r)})}}},lktj:function(e,t,n){var r=n("Ibhu"),o=n("xnc9");e.exports=Object.keys||function(e){return r(e,o)}},mClu:function(e,t,n){var r=n("kM2E");r(r.S+r.F*!n("+E39"),"Object",{defineProperty:n("evD5").f})},msXi:function(e,t,n){var r=n("77Pl");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},mw3O:function(e,t,n){"use strict";var r=n("CwSZ"),o=n("DDCP"),i=n("XgCd");e.exports={formats:i,parse:o,stringify:r}},nA6T:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("woOf"),o=n.n(r),i=n("c/Tr"),a=n.n(i),c=n("lRwf"),s=n.n(c),l=n("lWDY"),u=[{id:1,name:"当地美食"},{id:2,name:"休闲娱乐"},{id:3,name:"购物优惠"},{id:4,name:"wifi"},{id:5,name:"签证"},{id:6,name:"海外门票"},{id:7,name:"交通出行"},{id:8,name:"观光旅游"},{id:9,name:"其它"},{id:10,name:"特殊资源"}],f=[{id:1,name:"静态直采"},{id:2,name:"动态API"}],p=n("6JHo"),d=n("zxtw"),h={components:{dropdowncity:p.a,dropdownsupplier:d.a},data:function(){return{dialogShow:!1,travels:[],ResourceFroms:f,searchForm:{pageSize:10,total:0,PageIndex:1,SupplierId:"",CityId:"",ResourceType:"",ResourceFrom:null,ResourceName:null,ResourceId:"",belong:this.belong},searchResult:[],selectionDatas:[],containVisa1:0}},props:{tripstotal:{type:[String,Number],default:function(){return 1}},versions:{type:Array,default:function(){return[]}},belong:{type:[String,Number],default:function(){return 1}},containvisa:{type:[String,Number],default:function(){return 0}},selection:{type:Array,default:function(){return[]}}},computed:{resourcetypes:function(e){return 1==this.belong?0==this.containvisa?u:u.filter(function(e){return 5!==e}):u.filter(function(e){return 1===e||4===e||3===e})}},mounted:function(){},methods:{sizeChange:function(e){this.searchForm.pageSize=e,this.searchSingle()},pageChange:function(e){this.searchForm.PageIndex=e,this.searchSingle()},selectionChange:function(e){this.selectionDatas=e||[]},initSelectionRow:function(){},confirmSelection:function(){var e=this;if(e.selectionDatas&&!(e.selectionDatas.length<=0))if(1==e.belong&&e.tripstotal>=2&&(!e.travels||e.travels.length<1))e.$alert("请选择资源所属行程版本！","选择失败",{dangerouslyUseHTMLString:!0,type:"warning",center:!0});else{var t=[];e.selectionDatas.forEach(function(n){1==e.belong&&e.tripstotal>=2?e.travels.forEach(function(r){if(!e.selection.find(function(e){return e.ResourceId==n.ResourceId&&r==e.UseTravels})){var o=e.versions.find(function(e){return e.value==r});o||(o={value:r,day:1,text:""}),t.push({Id:n.Id,ResourceId:n.ResourceId,ResourceName:n.ResourceName,BelongCity:n.BelongCity,ResourceType:n.ResourceType,ResourceTypeName:n.ResourceTypeName,IsMustChoose:n.IsMustChoose,IsGift:n.IsGift,Url:n.Url,LoadLimit:n.LoadLimit,StartDay:n.StartDay,EndDay:n.EndDay,SupplierName:n.SupplierName,PlatSource:n.PlatSource,PlatSourceName:n.PlatSourceName,UseVersions:o.text,UseTravels:r,travelDays:o.day})}}):(n.UseVersions=n.UseTravels="",n.travelDays=1,e.selection.find(function(e){return e.ResourceId==n.ResourceId})||t.push(n))});var n=(e.selection||[]).concat(t);n.forEach(function(t){1==e.belong&&3==t.ResourceType&&(t.IsGift=1),t.StartDay||(t.StartDay="")}),this.$emit("update:selection",n),e.dialogShow=!1}},openDialog:function(){this.dialogShow=!0,this.searchForm.PageIndex=1,this.searchSingle()},searchSingle:function(){var e=this,t=e.$loading({lock:!0});l.a.get("/travel/supergoproduct/AdditionItem/GetSingleProductList",e.searchForm).then(function(n){n&&(e.searchResult=n.SingleList||[],e.searchForm=o()(e.searchForm,{total:n.TotalCount}),e.initSelectionRow(),t.close())}).catch(function(n){e.$message({type:"error",message:n}),t.close()})}}},v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("glui-dialog",{attrs:{title:"新增单产品资源",visible:e.dialogShow,width:"90%"},on:{"update:visible":function(t){e.dialogShow=t},open:e.openDialog}},[n("glui-form",{attrs:{model:e.searchForm,"label-width":"100px"}},[n("glui-row",[n("glui-col",{attrs:{span:8}},[n("glui-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"资源ID",width:"80"}},[n("glui-input",{attrs:{"auto-complete":"off"},model:{value:e.searchForm.ResourceId,callback:function(t){e.$set(e.searchForm,"ResourceId",t)},expression:"searchForm.ResourceId"}})],1)],1),e._v(" "),n("glui-col",{attrs:{span:8}},[n("glui-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"资源名称"}},[n("glui-input",{attrs:{"auto-complete":"off"},model:{value:e.searchForm.ResourceName,callback:function(t){e.$set(e.searchForm,"ResourceName",t)},expression:"searchForm.ResourceName"}})],1)],1),e._v(" "),n("glui-col",{attrs:{span:8}},[n("glui-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"资源分类",width:"120"}},[n("glui-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.searchForm.ResourceType,callback:function(t){e.$set(e.searchForm,"ResourceType",t)},expression:"searchForm.ResourceType"}},e._l(e.resourcetypes,function(e){return n("glui-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)],1),e._v(" "),n("glui-row",[n("glui-col",{attrs:{span:8}},[n("glui-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"所在城市",width:"80"}},[n("dropdowncity",{attrs:{isinner:!1,clearable:""},model:{value:e.searchForm.CityId,callback:function(t){e.$set(e.searchForm,"CityId",t)},expression:"searchForm.CityId"}})],1)],1),e._v(" "),1==e.belong?n("glui-col",{attrs:{span:8}},[n("glui-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"供应商"}},[n("dropdownsupplier",{attrs:{belong:e.belong,clearable:""},model:{value:e.searchForm.SupplierId,callback:function(t){e.$set(e.searchForm,"SupplierId",t)},expression:"searchForm.SupplierId"}})],1)],1):e._e(),e._v(" "),n("glui-col",{attrs:{span:8}},[n("div",{staticClass:"pull-right"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button",id:"js_query"},on:{click:e.searchSingle}},[n("i",{staticClass:"bico bico-search"}),e._v("查 询\n                    ")]),e._v(" "),n("button",{staticClass:"btn btn-warning",attrs:{type:"button",id:"js_add"},on:{click:e.confirmSelection}},[n("i",{staticClass:"bico bico-add-double"}),e._v("确认选择\n                    ")])])])],1),e._v(" "),n("glui-row",{directives:[{name:"show",rawName:"v-show",value:1==e.belong&&e.tripstotal>=2,expression:"belong==1&&tripstotal>=2"}]},[n("glui-col",{attrs:{span:13}},[n("glui-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"适用行程版本"}},[n("glui-select",{attrs:{multiple:"",placeholder:"请仔细行程版本，注意确认后无法更改哦"},model:{value:e.travels,callback:function(t){e.travels=t},expression:"travels"}},e._l(e.versions,function(e){return n("glui-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1)],1),e._v(" "),n("glui-col",{attrs:{span:9}},[n("glui-form-item",{staticStyle:{"margin-bottom":"0","margin-left":"10px"},attrs:{"label-width":"0px"}},[n("span",{staticStyle:{color:"red"}},[e._v("请尽量选择同一家供应商提供的签证资源（支持多选）")])])],1)],1)],1),e._v(" "),n("glui-table",{ref:"singleTable",attrs:{data:e.searchResult},on:{"selection-change":e.selectionChange}},[n("glui-table-column",{attrs:{prop:"ResourceId",label:"资源ID",width:"80"}}),e._v(" "),n("glui-table-column",{attrs:{prop:"ResourceTypeName",label:"资源品类",width:"120"}}),e._v(" "),n("glui-table-column",{attrs:{prop:"ResourceName",label:"单品资源名称"}}),e._v(" "),2==e.belong?n("glui-table-column",{attrs:{label:"座位数",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.LoadLimit>=1?t.row.LoadLimit:"--")+"\n                "),t.row.LoadLimit>=1?n("span",{staticStyle:{color:"red"}},[e._v("（含司机）")]):e._e()]}}])}):e._e(),e._v(" "),1==e.belong?n("glui-table-column",{attrs:{prop:"SupplierName",label:"供应商"}}):e._e(),e._v(" "),n("glui-table-column",{attrs:{prop:"BelongCity",label:"所在城市",width:"80"}}),e._v(" "),1==e.belong?n("glui-table-column",{attrs:{prop:"PlatSourceName",label:"来源",width:"80"}}):e._e(),e._v(" "),1==e.belong?n("glui-table-column",{attrs:{label:"团期价格",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return n("div",{},[n("a",{attrs:{href:t.row.Url,target:"_blank"}},[e._v("\n                    团期价格\n                ")])])}}])}):e._e(),e._v(" "),n("glui-table-column",{attrs:{label:"选择",type:"selection"}})],1),e._v(" "),n("glui-pagination",{staticStyle:{"text-align":"center","margin-top":"14px"},attrs:{"page-sizes":[10,20],layout:"total, sizes, prev, pager, next, jumper","page-size":e.searchForm.pageSize,total:e.searchForm.total},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1)};v._withStripped=!0;var m={render:v,staticRenderFns:[]},g=m;var y=n("VU/8")(h,g,!1,null,null,null);y.options.__file="src\\views\\ProductAddition\\components\\singleresource.vue";var b=y.exports,S=n("bOdI"),x=n.n(S),w={components:{dropdowncity:p.a},data:function(){return{expandkeys:[],scenicloading:!1,loadingPolicy:!1,dialogShow:!1,scenicsources:[],searchForm:{total:0,pageSize:10,PageIndex:1,CityId:"",SceneryId:"",BelongTo:this.belong},searchResult:[],selectionDatas:[]}},props:{belong:{type:[String,Number],default:function(){return 1}},selection:{type:Array,default:function(){return[]}}},mounted:function(){2==this.belong&&this.initScenics()},methods:{initScenics:function(){var e=this;l.a.get("/travel/supergoproduct/AdditionItem/GetSceneryIdNameList",{belong:e.belong}).then(function(t){t&&(e.scenicsources=t.IdNameList||[])}).catch(function(t){e.$message({type:"error",message:t})})},sizeChange:function(e){this.searchForm.pageSize=e,this.searchScenic()},pageChange:function(e){this.searchForm.PageIndex=e,this.searchScenic()},expandChange:function(e,t){var n=this;!e.policylist||e.policylist.length<=0?(n.loadingPolicy=!0,l.a.get("/travel/supergoproduct/AdditionItem/SceneryTicketPrice",{SceneryId:e.ResourceId,BelongTo:n.belong}).then(function(t){t&&(e.policylist=t.TicketPriceList||[],setTimeout(function(){n.initSelectionRow(e)},200)),n.loadingPolicy=!1}).catch(function(e){n.$message({type:"error",message:e})})):n.initSelectionRow(e)},selectionChange:function(e,t){this.selectionDatas=t||[]},initSelectionRow:function(e){var t=this;t.$nextTick(function(){var n=t.$refs["singleTable"+e.ResourceId];!t.selection||t.selection.length<=0?n&&n.clearSelection():e.policylist&&e.policylist.forEach(function(e,r){t.selection.find(function(t){return t.PolicyId==e.PolicyId})?n&&n.toggleRowSelection(e):n&&n.toggleRowSelection(e,!1)})})},confirmSelection:function(){var e=this,t=[];e.searchResult&&e.searchResult.forEach(function(n){n.selection&&n.selection.length>=1&&n.selection.forEach(function(r){var o;e.selection.find(function(e){return e.PolicyId==r.PolicyId})||t.push((o={PolicyId:r.PolicyId,PolicyName:r.PolicyName,ForCrowd:r.ForCrowd,StartTime:r.StartTime,EndTime:r.EndTime,PayMethod:r.PayMethod,DataFlag:1,ResourceId:n.ResourceId,ResourceName:n.ResourceName,ResourceGrade:n.ResourceGrade,TicketMode:r.TicketMode,TicketId:r.TicketId},x()(o,"ResourceGrade",n.GrageId),x()(o,"ResourceGradeName",n.GrageName),o))})}),this.$emit("update:selection",(e.selection||[]).concat(t)),e.dialogShow=!1},openDialog:function(){this.dialogShow=!0,this.searchForm.PageIndex=1,this.searchScenic()},searchScenic:function(){var e=this;e.scenicloading=!0,l.a.get("/travel/supergoproduct/AdditionItem/SceneryResourceList",e.searchForm).then(function(t){t&&(e.searchResult=t.SceneryResourceList||[],e.searchForm=o()(e.searchForm,{total:t.TotalCount}),e.scenicloading=!1)}).catch(function(t){e.$message({type:"error",message:t})})}}},_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("glui-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.scenicloading,expression:"scenicloading"}],attrs:{title:"新增景区资源",visible:e.dialogShow,width:"90%"},on:{"update:visible":function(t){e.dialogShow=t},open:e.openDialog}},[n("glui-form",{attrs:{model:e.searchForm,"label-width":"100px"}},[n("glui-row",[n("glui-col",{attrs:{span:8}},[n("glui-form-item",{attrs:{label:"所在城市"}},[n("dropdowncity",{attrs:{isinner:!1,clearable:""},model:{value:e.searchForm.CityId,callback:function(t){e.$set(e.searchForm,"CityId",t)},expression:"searchForm.CityId"}})],1)],1),e._v(" "),n("glui-col",{attrs:{span:8}},[n("glui-form-item",{attrs:{label:"景区名称"}},[n("glui-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.searchForm.SceneryId,callback:function(t){e.$set(e.searchForm,"SceneryId",t)},expression:"searchForm.SceneryId"}},e._l(e.scenicsources,function(e){return n("glui-option",{key:e.ResourceId,attrs:{label:e.ResourceName,value:e.ResourceId}})}))],1)],1),e._v(" "),n("glui-col",{attrs:{span:8}},[n("glui-form-item",[n("div",{staticClass:"pull-right"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button",id:"js_query"},on:{click:e.searchScenic}},[n("i",{staticClass:"bico bico-search"}),e._v("查 询\n                        ")]),e._v(" "),n("button",{staticClass:"btn btn-warning",attrs:{type:"button",id:"js_add"},on:{click:e.confirmSelection}},[n("i",{staticClass:"bico bico-add-double"}),e._v("确认选择\n                        ")])])])],1)],1)],1),e._v(" "),n("glui-table",{attrs:{data:e.searchResult,"row-key":"ResourceId","expand-row-keys":e.expandkeys},on:{"expand-change":e.expandChange}},[n("glui-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("glui-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingPolicy,expression:"loadingPolicy"}],ref:"singleTable"+t.row.ResourceId,attrs:{"label-position":"left",inline:"",data:t.row.policylist},on:{"selection-change":function(e){return t.row.selection=e}}},[n("glui-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),n("glui-table-column",{attrs:{label:"价格策略ID",width:"100",prop:"PolicyId"}}),e._v(" "),n("glui-table-column",{attrs:{prop:"PolicyName",label:"价格策略名称"}}),e._v(" "),n("glui-table-column",{attrs:{prop:"ForCrowd",width:"80",label:"针对人群"}}),e._v(" "),n("glui-table-column",{attrs:{label:"策略日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(t.row.StartTime)+"至"+e._s(t.row.EndTime)+"\n                        ")]}}])}),e._v(" "),n("glui-table-column",{attrs:{prop:"TicketMode",label:"取票方式"}})],1)]}}])}),e._v(" "),n("glui-table-column",{attrs:{prop:"ResourceId",label:"景点编号",width:"80"}}),e._v(" "),n("glui-table-column",{attrs:{prop:"ResourceName",label:"景区名称"}}),e._v(" "),n("glui-table-column",{attrs:{prop:"ProvinceName",label:"所在省份"}}),e._v(" "),n("glui-table-column",{attrs:{prop:"CityName",label:"所在城市"}}),e._v(" "),n("glui-table-column",{attrs:{prop:"GrageName",label:"等级"}})],1),e._v(" "),n("glui-pagination",{staticStyle:{"text-align":"center","margin-top":"14px"},attrs:{"page-sizes":[10,20],layout:"total, sizes, prev, pager, next, jumper","page-size":e.searchForm.pageSize,total:e.searchForm.total},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1)};_._withStripped=!0;var I={render:_,staticRenderFns:[]},R=I;var P=n("VU/8")(w,R,!1,null,null,null);P.options.__file="src\\views\\ProductAddition\\components\\scenicresource.vue";var j=P.exports,O={components:{dropdownsupplier:d.a},data:function(){return{dialogShow:!1,form:{ResourceName:"",SupplierId:""},rules:{SupplierId:[{required:!0,message:"此处不可为空",trigger:"change"}],ResourceName:[{required:!0,message:"此处不可为空",trigger:"blur"}]}}},props:{productid:{type:[Number,String],default:function(){return 0}},onclose:{type:Function,default:function(){return function(){}}}},mounted:function(){},methods:{openDialog:function(){this.dialogShow=!0},saveDatas:function(){var e=this,t=e.$loading({lock:!0});l.a.post("/travel/supergoproduct/AdditionItem/CreateSpecialResource",{SupplierId:e.form.SupplierId,ResourceName:e.form.ResourceName,ProductId:e.productid}).then(function(n){t.close(),n&&n.IsSuccess?(e.dialogShow=!1,e.onclose()):e.$alert(n.ErrorMsg,"保存失败",{dangerouslyUseHTMLString:!0,type:"warning",center:!0})}).catch(function(t){e.$message({type:"error",message:t})})}}},C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("glui-dialog",{attrs:{title:"新增特殊附加资源",visible:e.dialogShow,width:"90%"},on:{"update:visible":function(t){e.dialogShow=t},open:e.openDialog}},[n("glui-form",{attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[n("glui-form-item",{attrs:{label:"资源名称",prop:"ResourceName",required:""}},[n("glui-input",{attrs:{placeholder:"请输入资源名称",maxlength:50},model:{value:e.form.ResourceName,callback:function(t){e.$set(e.form,"ResourceName",t)},expression:"form.ResourceName"}})],1),e._v(" "),n("glui-form-item",{attrs:{label:"供应商",prop:"SupplierId",required:""}},[n("dropdownsupplier",{attrs:{belong:1},model:{value:e.form.SupplierId,callback:function(t){e.$set(e.form,"SupplierId",t)},expression:"form.SupplierId"}})],1),e._v(" "),n("glui-form-item",{attrs:{label:" "}},[n("button",{staticClass:"btn btn-default",attrs:{type:"button",id:"js_query"},on:{click:e.saveDatas}},[n("i",{staticClass:"bico bico-search"}),e._v("保 存\n            ")])])],1)],1)};C._withStripped=!0;var k={render:C,staticRenderFns:[]},T=k;var D=n("VU/8")(O,T,!1,null,null,null);D.options.__file="src\\views\\ProductAddition\\components\\addspecialresource.vue";var L=D.exports,F=(n("uRKy"),new s.a({el:"#container",components:{singleresource:b,scenicresource:j,addspecialresource:L},data:function(){return{belong:$("#productBelong").val(),productId:$("#productid").val(),tripsTotal:$("#tripsTotal").val(),containvisa:$("#ContainVisa").val(),travelDays:a()({length:$("#productmaxday").val()},function(e,t){return t+1}),travelVersions:JSON.parse($("#productversions").val()),baseInfo:{singleList:[],specialList:[],scenicList:[]},single:{dialogShow:!1,useTravels:[],resourcetypes:u,platsources:f,searchForm:{pageSize:10,total:0,PageIndex:1,SupplierId:"",CityId:"",ResourceType:"",PlatSource:null,ResourceName:null,ResourceId:""},searchResult:[],selectionDatas:[]},rules:{"baseInfo.singleList":[{required:!0,message:"此处不可为空",trigger:"change"}],"baseInfo.specialList":[{required:!0,message:"此处不可为空",trigger:"change"}]}}},mounted:function(){this.initDatas()},methods:{initDatas:function(){var e=this,t=e.$loading({lock:!0});l.a.get("/travel/supergoproduct/AdditionItem/GetAdditionalResource",{productId:e.productId}).then(function(n){t.close(),n&&(e.baseInfo=o()(e.baseInfo,minux.checkBe({singleList:n.Single,specialList:n.Special,scenicList:n.Scenic})),e.baseInfo.singleList&&e.baseInfo.singleList.forEach(function(t){t.StartDay||(t.StartDay="");var n=e.travelVersions.find(function(e){return e.value==t.UseTravels});t.travelDays=n?n.day:e.travelDays}))}).catch(function(n){e.$message({type:"error",message:n}),t.close()})},saveDatas:function(){var e=this;this.$refs.baseInfo.validate(function(t){if(t){var n=!1;if(e.baseInfo.singleList&&e.baseInfo.singleList.length>=1&&e.baseInfo.singleList.forEach(function(t){var r=e.baseInfo.singleList.filter(function(e){return e.Sort==t.Sort});r&&r.length>=2&&(n=!0)}),!0===n&&2==e.belong)return void e.$confirm("单品资源售卖顺序不能重复","保存失败",{confirmButtonText:"确定",type:"warning",center:!0,showCancelButton:!1});var r=e.$loading({lock:!0});l.a.post("/travel/supergoproduct/AdditionItem/SaveAdditionalResource",{ProductId:e.productId,Single:e.baseInfo.singleList,Special:e.baseInfo.specialList,Scenic:e.baseInfo.scenicList||[]}).then(function(t){r.close(),t&&t.IsSuccess?e.$message({message:"附加资源保存成功！",type:"success"}):e.$confirm(t.ErrorMsg,"保存失败",{confirmButtonText:"确定",type:"warning",center:!0,showCancelButton:!1})}).catch(function(t){e.$message({type:"error",message:t}),r&&r.close()})}else e.$confirm("请检查输入内容是否完整","保存失败",{confirmButtonText:"确定",type:"warning",center:!0,showCancelButton:!1})})},removespecial:function(e){var t=this;this.$confirm("确认删除此特殊附加资源吗？","确认操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){t.baseInfo.specialList&&t.baseInfo.specialList.splice(e,1)}).catch(function(){})},removesingle:function(e){var t=this;this.$confirm("确认删除此单产品资源吗？","确认操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){t.baseInfo.singleList&&t.baseInfo.singleList.splice(e,1)}).catch(function(){})},removescenic:function(e){var t=this;this.$confirm("确认删除此景区资源吗？","确认操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){t.baseInfo.scenicList&&t.baseInfo.scenicList.splice(e,1)}).catch(function(){})},changeSwitch:function(e,t){var n="";n=1==e.IsMustChoose?"确认要必选此单品吗？":"确认要取消必选此单品吗？",this.$confirm(n,"确认操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){}).catch(function(){e.IsMustChoose=1==e.IsMustChoose?0:1})},changeDay:function(e){console.log(e)},opendialog:function(e){this.$refs[e].openDialog()}}}));$(function(){$("#saveProductInfo").click(function(){F.saveDatas()})})},p8xL:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:i,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],a=Object.keys(i),c=0;c<a.length;++c){var s=a[c],l=i[s];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:i,prop:s}),n.push(l))}return function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var r=[],o=0;o<t.length;++o)void 0!==t[o]&&r.push(t[o]);n.obj[n.prop]=r}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",r=0;r<t.length;++r){var i=t.charCodeAt(r);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?n+=t.charAt(r):i<128?n+=o[i]:i<2048?n+=o[192|i>>6]+o[128|63&i]:i<55296||i>=57344?n+=o[224|i>>12]+o[128|i>>6&63]+o[128|63&i]:(r+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(r)),n+=o[240|i>>18]+o[128|i>>12&63]+o[128|i>>6&63]+o[128|63&i])}return n},isBuffer:function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,n,o){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(o.plainObjects||o.allowPrototypes||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var a=t;return Array.isArray(t)&&!Array.isArray(n)&&(a=i(t,o)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,i){r.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e(t[i],n,o):t.push(n):t[i]=n}),t):Object.keys(n).reduce(function(t,i){var a=n[i];return r.call(t,i)?t[i]=e(t[i],a,o):t[i]=a,t},a)}}},qARP:function(e,t,n){"use strict";var r=n("lOnJ");e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},qio6:function(e,t,n){var r=n("evD5"),o=n("77Pl"),i=n("lktj");e.exports=n("+E39")?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),c=a.length,s=0;c>s;)r.f(e,n=a[s++],t[n]);return e}},qyJz:function(e,t,n){"use strict";var r=n("+ZMJ"),o=n("kM2E"),i=n("sB3e"),a=n("msXi"),c=n("Mhyx"),s=n("QRG4"),l=n("fBQ2"),u=n("3fs2");o(o.S+o.F*!n("dY0y")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,p=i(e),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,g=0,y=u(p);if(m&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==y||d==Array&&c(y))for(n=new d(t=s(p.length));t>g;g++)l(n,g,m?v(p[g],g):p[g]);else for(f=y.call(p),n=new d;!(o=f.next()).done;g++)l(n,g,m?a(f,v,[o.value,g],!0):o.value);return n.length=g,n}})},sB3e:function(e,t,n){var r=n("52gC");e.exports=function(e){return Object(r(e))}},t8x9:function(e,t,n){var r=n("77Pl"),o=n("lOnJ"),i=n("dSzd")("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},uRKy:function(e,t){},"vFc/":function(e,t,n){var r=n("TcQ7"),o=n("QRG4"),i=n("fkB2");e.exports=function(e){return function(t,n,a){var c,s=r(t),l=o(s.length),u=i(a,l);if(e&&n!=n){for(;l>u;)if((c=s[u++])!=c)return!0}else for(;l>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}}},"vIB/":function(e,t,n){"use strict";var r=n("O4g8"),o=n("kM2E"),i=n("880/"),a=n("hJx8"),c=n("/bQp"),s=n("94VQ"),l=n("e6n0"),u=n("PzxK"),f=n("dSzd")("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,h,v,m,g){s(n,t,h);var y,b,S,x=function(e){if(!p&&e in R)return R[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",_="values"==v,I=!1,R=e.prototype,P=R[f]||R["@@iterator"]||v&&R[v],j=P||x(v),O=v?_?x("entries"):j:void 0,C="Array"==t&&R.entries||P;if(C&&(S=u(C.call(new e)))!==Object.prototype&&S.next&&(l(S,w,!0),r||"function"==typeof S[f]||a(S,f,d)),_&&P&&"values"!==P.name&&(I=!0,j=function(){return P.call(this)}),r&&!g||!p&&!I&&R[f]||a(R,f,j),c[t]=j,c[w]=d,v)if(y={values:_?j:x("values"),keys:m?j:x("keys"),entries:O},g)for(b in y)b in R||i(R,b,y[b]);else o(o.P+o.F*(p||I),t,y);return y}},woOf:function(e,t,n){e.exports={default:n("V3tA"),__esModule:!0}},xGkn:function(e,t,n){"use strict";var r=n("4mcu"),o=n("EGZi"),i=n("/bQp"),a=n("TcQ7");e.exports=n("vIB/")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},"xH/j":function(e,t,n){var r=n("hJx8");e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},xnc9:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},zQR9:function(e,t,n){"use strict";var r=n("h65t")(!0);n("vIB/")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},zxtw:function(e,t,n){"use strict";var r=n("lWDY"),o={data:function(){return{datas:[],selected:this.value}},props:{defaultitem:{default:function(){return null},type:Object},value:{type:[String,Number,Array],default:function(){return""}},belong:{type:[String,Number],default:function(){return 1}},clearable:{type:Boolean,default:function(){return!1}},disabled:{type:Boolean,default:function(){return!1}}},watch:{defaultitem:function(e){this.defaultitem&&(this.datas=[this.defaultitem],this.selected=this.defaultitem.SupplierId)}},mounted:function(){if(this.defaultitem)this.datas=[this.defaultitem],this.selected=this.defaultitem.SupplierId;else{var e=this.value;e&&e.length>=1&&this.search(e,1)}},methods:{search:function(e){var t=this;!e||e.length<=0||r.a.get("/travel/supergoproduct/ProductSupplier/QueryProductSupplierList",{keyword:e,belong:t.belong}).then(function(e){t.datas=e||[]}).catch(function(e){t.$message({type:"error",message:e})})},onchange:function(e){this.$emit("input",e);var t=null;this.datas.forEach(function(n){n&&n.SupplierId==e&&(t=n)}),this.$emit("change",e,t)}}},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("glui-select",{attrs:{placeholder:"请输入供应商名称",disabled:e.disabled,clearable:e.clearable,filterable:"",remote:"","remote-method":e.search},on:{change:e.onchange},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.datas,function(e){return n("glui-option",{key:e.SupplierId,attrs:{label:e.SupplierName,value:e.SupplierId}})}))};i._withStripped=!0;var a={render:i,staticRenderFns:[]},c=a;var s=n("VU/8")(o,c,!1,null,null,null);s.options.__file="src\\components\\dropdownsupplier.vue";t.a=s.exports}});
//# sourceMappingURL=index.8ede1788fcd047a7d07d.js.map